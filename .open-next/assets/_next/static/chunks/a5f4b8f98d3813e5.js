(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61607,e=>{"use strict";var t=e.i(91398),r=e.i(41158),l=e.i(3828);function i({recipe:e}){let i=(0,l.useRouter)().asPath.split("?")[0].split("/").filter(Boolean),a=i.map((e,t)=>({segment:e,href:"/"+i.slice(0,t+1).join("/"),label:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}));return e?.title&&a.length>0&&(a[a.length-1].label=e.title),(0,t.jsx)("nav",{className:"vr-breadcrumb",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/",children:"Home"})}),a.map((e,l)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:" / "}),(0,t.jsx)("li",{children:l===a.length-1?(0,t.jsx)("span",{className:"active",children:e.label}):(0,t.jsx)(r.default,{href:e.href,children:e.label})},l)]}))]})})}e.s(["default",()=>i])},34359,e=>{"use strict";var t=e.i(91398),r=e.i(91788),l=e.i(30943);function i({allRecipes:e=[],difficultyOptions:i=["easy","medium","hard"],initialTimeRange:a={min:0,max:60},onFilterChange:s}){let[n,c]=(0,r.useState)(""),[o,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[f,h]=(0,r.useState)(a),[v,p]=(0,r.useState)(a.max),[g,x]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),b=(0,r.useRef)([]),N=e=>{let t=e.ingredients;if("string"==typeof t)try{t=JSON.parse(t)}catch{t=[]}return Array.isArray(t)?t:[]},_=e=>"number"==typeof e.total_time?e.total_time:"number"==typeof e.cook_time?e.cook_time:null;(0,r.useEffect)(()=>{y(!0)},[]),(0,r.useEffect)(()=>(g?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[g]),(0,r.useEffect)(()=>{if(!e.length)return;let t=1/0,r=0;e.forEach(e=>{let l=_(e);"number"==typeof l&&(l<t&&(t=l),l>r&&(r=l))}),t===1/0&&(t=0),0===r&&(r=a.max??60),h({min:t,max:r}),p(r)},[e,a.max]);let w=(0,r.useMemo)(()=>e.length?e.filter(e=>{let t=_(e);if(null!=v&&"number"==typeof t&&t>v)return!1;if(o.length>0){let t=N(e).map(e=>e.image).filter(Boolean);if(!o.every(e=>t.includes(e)))return!1}return!0}):[],[e,o,v]),S=(0,r.useMemo)(()=>{let e={easy:!1,medium:!1,hard:!1};return w.forEach(t=>{let r=t.difficulty?.toLowerCase();r&&void 0!==e[r]&&(e[r]=!0)}),e},[w]),k=(0,r.useMemo)(()=>{let e=new Map,t=w;return u&&(t=t.filter(e=>e.difficulty?.toLowerCase()===u)),t.forEach(t=>{N(t).forEach(t=>{if(!t?.image)return;let r=t.image;e.has(r)||e.set(r,{key:r,label:r.replace(/-/g," ")})})}),Array.from(e.values()).sort((e,t)=>e.label.localeCompare(t.label))},[w,u]),C=(0,r.useMemo)(()=>k.filter(e=>e.label.toLowerCase().includes(n.toLowerCase())),[k,n]);(0,r.useEffect)(()=>{s({ingredients:o,difficulty:u,maxTime:v})},[o,u,v,s]),(0,r.useEffect)(()=>{let e=b.current.map(e=>e.key),t=k.map(e=>e.key);e.filter(e=>!t.includes(e)).forEach(e=>{let t=document.querySelector(`.vr-filter-pill[data-ing="${e}"]`);t&&(t.classList.add("vr-filter-pill--fade-out"),setTimeout(()=>{t&&t.parentNode&&t.parentNode.removeChild(t)},250))}),b.current=k},[k]);let E=(0,t.jsxs)("div",{className:"vr-filter-panel",children:[(0,t.jsxs)("div",{className:"vr-filter-group",children:[(0,t.jsx)("label",{className:"vr-filter-label",children:"Search Ingredients"}),(0,t.jsx)("input",{type:"text",className:"vr-filter-search",placeholder:"Type to filter ingredients...",value:n,onChange:e=>c(e.target.value)})]}),(0,t.jsxs)("div",{className:"vr-filter-group",children:[(0,t.jsx)("label",{className:"vr-filter-label",children:"Ingredients"}),(0,t.jsx)("div",{className:"vr-filter-multiselect",children:C.map(e=>(0,t.jsx)("button",{"data-ing":e.key,className:"vr-filter-pill vr-anim-pill "+(o.includes(e.key)?"vr-filter-pill--active":"")+" vr-filter-pill--fade-in",onClick:()=>d(t=>t.includes(e.key)?t.filter(t=>t!==e.key):[...t,e.key]),children:e.label},e.key))})]}),(0,t.jsxs)("div",{className:"vr-filter-group",children:[(0,t.jsx)("label",{className:"vr-filter-label",children:"Difficulty"}),(0,t.jsx)("div",{className:"vr-filter-multiselect vr-filter-difficulty",children:i.filter(e=>S[e]).map(e=>(0,t.jsx)("button",{className:"vr-filter-pill "+(u===e?"vr-filter-pill--active":""),onClick:()=>m(u===e?null:e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsxs)("div",{className:"vr-filter-group",children:[(0,t.jsxs)("label",{className:"vr-filter-label",children:["Max Cook Time:",(0,t.jsxs)("span",{className:"vr-filter-label__value",children:[" ",v," min"]})]}),(0,t.jsx)("input",{type:"range",className:"vr-slider",min:f.min,max:f.max,step:"5",value:v,onChange:e=>p(Number(e.target.value))}),(0,t.jsxs)("div",{className:"vr-filter-slider__scale",children:[(0,t.jsxs)("span",{children:[f.min," min"]}),(0,t.jsxs)("span",{children:[f.max," min"]})]})]}),(0,t.jsx)("div",{className:"vr-filter-actions vr-filter-actions--sticky",children:(0,t.jsx)("button",{className:"vr-meal-planner__clear",onClick:()=>{d([]),m(null),c(""),p(f.max),g&&x(!1)},children:"Clear Filter"})})]}),T=j&&g?(0,l.createPortal)((0,t.jsx)("div",{className:"vr-filter-drawer-overlay",children:(0,t.jsxs)("div",{className:"vr-filter-drawer",children:[(0,t.jsxs)("div",{className:"vr-filter-drawer__header",children:[(0,t.jsx)("h3",{children:"Filter Recipes"}),(0,t.jsx)("button",{className:"vr-filter-drawer__close",onClick:()=>x(!1),children:"×"})]}),E]})}),document.body):null;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"vr-category-mobile-filter",children:(0,t.jsx)("button",{className:"vr-category-mobile-filter__btn",onClick:()=>x(!0),children:"Filters"})}),(0,t.jsxs)("aside",{className:"vr-filter-sidebar vr-filter-sidebar--desktop",children:[(0,t.jsx)("h3",{className:"vr-filter-sidebar__title",children:"Filter"}),E]}),T]})}e.s(["default",()=>i])},71070,e=>{"use strict";var t=e.i(91398),r=e.i(58678),l=e.i(3828),i=e.i(91788),a=e.i(94223),s=e.i(61607),n=e.i(34359),c=e.i(81302),o=e.i(30142),d=e.i(67615);function u({slug:e,isTrending:u,initialRecipes:m=[],initialTotalCount:f=0,initialMaxTime:h=60}){let v=(0,l.useRouter)(),[p,g]=(0,i.useState)(m),[x,j]=(0,i.useState)(f),[y,b]=(0,i.useState)([]),[N,_]=(0,i.useState)({ingredients:[],difficulty:null,maxTime:h}),[w,S]=(0,i.useState)(!1),[k,C]=(0,i.useState)(m.length<f),[E,T]=(0,i.useState)(1),R=(0,i.useRef)(null),F=(0,i.useRef)(null),A=u?"Trending Recipes":(e?e.charAt(0).toUpperCase()+e.slice(1):"")+" Recipes",P=`/images/categories/${e?.toLowerCase()}-category.webp`;(0,i.useEffect)(()=>{g(m),j(f),_(e=>({...e,maxTime:h,ingredients:[],difficulty:null})),T(1),C(m.length<f),b([])},[e,m]),(0,i.useEffect)(()=>{let t=setTimeout(async function(){if(!e||y.length>0)return;let t=new URLSearchParams;t.set("page",1),t.set("per_page",300),u||t.set("cuisine",e);try{let e=await fetch(`/api/recipes?${t.toString()}`),r=(await e.json()).data||[];b(r);let l=Math.max(...r.map(e=>e.total_time||e.cook_time||0));l>N.maxTime&&_(e=>({...e,maxTime:l}))}catch(e){console.error("Failed to load filter data",e)}},500);return()=>clearTimeout(t)},[e,u]);let L=async(t,r=!1)=>{let l;S(!0);let i=((l=new URLSearchParams).set("page",t),l.set("per_page",24),!u&&e&&l.set("cuisine",e),N.ingredients.length>0&&l.set("ingredients",N.ingredients.join(",")),N.difficulty&&l.set("difficulty",N.difficulty),N.maxTime&&l.set("max_time",N.maxTime),l.toString());try{let e=await fetch(`/api/recipes?${i}`),l=await e.json(),a=l.data||[];(r||1===t)&&j(l.total_count||l.count||0),g(e=>r?a:[...e,...a]);let s=r?a.length:p.length+a.length,n=l.total_count||l.count||0;a.length<24||n>0&&s>=n?C(!1):C(!0),T(t)}catch(e){console.error(e)}finally{S(!1)}},M=(0,i.useRef)(!0);return((0,i.useEffect)(()=>{if(M.current){M.current=!1;return}g([]),T(1),C(!0),R.current?.scrollIntoView({behavior:"smooth"}),L(1,!0)},[N]),(0,i.useEffect)(()=>{if(!k||w||!F.current)return;let e=new IntersectionObserver(t=>{t[0].isIntersecting&&(e.unobserve(t[0].target),L(E+1))},{rootMargin:"200px",threshold:.1});return e.observe(F.current),()=>e.disconnect()},[k,w,E,N,e]),v.isFallback)?(0,t.jsx)("div",{className:"vr-container",children:"Loading..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.default,{children:[(0,t.jsxs)("title",{children:[A," | ",o.BRAND_NAME]}),(0,t.jsx)("meta",{name:"description",content:`Browse delicious ${A} at ${o.BRAND_NAME}. Find easy, top-rated recipes.`})]}),(0,t.jsx)(s.default,{}),(0,t.jsxs)("div",{className:"vr-category-hero",children:[(0,t.jsx)("img",{src:P,onError:e=>{e.target.onerror=null,e.target.src="/images/hero-banner2.webp"},alt:A,className:"vr-category-hero__image"}),(0,t.jsx)("div",{className:"vr-category-hero__overlay",children:(0,t.jsx)("h1",{className:"vr-category-hero__title",children:A})})]}),(0,t.jsxs)("div",{className:"vr-category-layout",children:[(0,t.jsx)(n.default,{allRecipes:y,difficultyOptions:["easy","medium","hard"],initialTimeRange:{min:0,max:60},onFilterChange:_}),(0,t.jsxs)("main",{className:"vr-category-main",ref:R,children:[(0,t.jsxs)("div",{className:"vr-category-main__header",children:[(0,t.jsx)("h3",{className:"vr-category__title",children:A}),(0,t.jsx)("span",{className:"vr-category-main__meta",children:x?`${p.length} out of ${x} recipes loaded`:`${p.length} recipes loaded`})]}),(0,t.jsx)("div",{className:"vr-category__grid",children:p.map((e,r)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{recipe:e},e.id),(r+1)%6==0&&(0,t.jsx)("article",{className:"vr-card vr-recipe-card vr-ad-card-wrapper",children:(0,t.jsx)(c.default,{id:"101",position:"in-feed",height:"100%"})})]}))}),k&&(0,t.jsx)("div",{ref:F,className:"vr-infinite-sentinel",children:w&&(0,t.jsx)("span",{children:"Loading more recipes…"})}),!k&&p.length>0&&(0,t.jsx)("div",{className:"vr-infinite-sentinel",children:(0,t.jsx)("span",{children:"You've reached the end!"})})]}),(0,t.jsx)(d.default,{})]})]})}e.s(["__N_SSG",()=>!0,"default",()=>u])},34890,(e,t,r)=>{let l="/categories/[slug]";(window.__NEXT_P=window.__NEXT_P||[]).push([l,()=>e.r(71070)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([l])})},48761,e=>{e.v(t=>Promise.all(["static/chunks/f4fe8aeb8343dcd3.js"].map(t=>e.l(t))).then(()=>t(93594)))},28805,e=>{e.v(t=>Promise.all(["static/chunks/3dcc93bb4829c1ba.js"].map(t=>e.l(t))).then(()=>t(79466)))}]);