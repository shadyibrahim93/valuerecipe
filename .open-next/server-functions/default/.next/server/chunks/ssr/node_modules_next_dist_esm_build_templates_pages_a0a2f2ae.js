module.exports=[77088,a=>{"use strict";var b=a.i(79168),c=a.i(27068),d=a.i(32759),e=a.i(31224),f=a.i(27342),g=a.i(8171),h=a.i(19059),i=a.i(27669),j=a.i(49190),k=a.i(31735),l=a.i(20351),m=a.i(98749),n=a.i(51749),o=a.i(10766),p=a.i(58803);let q="dinner",r="Easy Dinner Recipes & Weeknight Meal Ideas";async function s(){let a=j.supabase.from("recipes").select("id, title, slug, image_url, rating, rating_count, total_time, cook_time, difficulty, serving_time, cuisine",{count:"exact"}).ilike("serving_time",q),{data:b,count:c,error:d}=await a.range(0,23);if(d)return console.error("ISR Error:",d),{notFound:!0};let{data:e}=await j.supabase.from("recipes").select("total_time, cook_time").ilike("serving_time",q).limit(100);return{props:{initialRecipes:b||[],initialTotalCount:c||0,initialMaxTime:e?Math.max(...e.map(a=>a.total_time||a.cook_time||0)):60},revalidate:o.REVALIDATE_TIME}}function t({initialRecipes:a=[],initialTotalCount:b=0,initialMaxTime:c=60}){let[d,e]=(0,i.useState)(a),[f,j]=(0,i.useState)(b),[s,t]=(0,i.useState)([]),[u,v]=(0,i.useState)({ingredients:[],difficulty:null,maxTime:c}),[w,x]=(0,i.useState)(!1),[y,z]=(0,i.useState)(a.length<b),[A,B]=(0,i.useState)(1),C=(0,i.useRef)(null),D=(0,i.useRef)(null);(0,i.useEffect)(()=>{let a=setTimeout(async function(){if(s.length>0)return;let a=new URLSearchParams;a.set("page",1),a.set("per_page",300),a.set("serving_time",q);try{let b=await fetch(`/api/recipes?${a.toString()}`),c=(await b.json()).data||[];t(c);let d=Math.max(...c.map(a=>a.total_time||a.cook_time||0));d>u.maxTime&&v(a=>({...a,maxTime:d}))}catch(a){console.error("Failed to load filter data",a)}},500);return()=>clearTimeout(a)},[]);let E=async(a,b=!1)=>{let c;x(!0);let f=((c=new URLSearchParams).set("page",a),c.set("per_page",24),c.set("serving_time",q),u.ingredients.length>0&&c.set("ingredients",u.ingredients.join(",")),u.difficulty&&c.set("difficulty",u.difficulty),u.maxTime&&c.set("max_time",u.maxTime),c.toString());try{let c=await fetch(`/api/recipes?${f}`),g=await c.json(),h=g.data||[];(b||1===a)&&j(g.total_count||g.count||0),e(a=>b?h:[...a,...h]);let i=b?h.length:d.length+h.length,k=g.total_count||g.count||0;h.length<24||k>0&&i>=k?z(!1):z(!0),B(a)}catch(a){console.error("Failed to fetch recipes",a)}finally{x(!1)}},F=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{if(F.current){F.current=!1;return}e([]),B(1),z(!0),E(1,!0)},[u]),(0,i.useEffect)(()=>{if(!y||w||!D.current)return;let a=new IntersectionObserver(b=>{b[0].isIntersecting&&(a.unobserve(b[0].target),E(A+1))},{rootMargin:"200px",threshold:.1});return a.observe(D.current),()=>a.disconnect()},[y,w,A,u]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(h.default,{children:[(0,g.jsxs)("title",{children:[r," | ",o.BRAND_NAME]}),(0,g.jsx)("meta",{name:"description",content:"Find easy and delicious dinner recipes for any night of the week. From quick meals to family favorites."})]}),(0,g.jsx)(m.default,{}),(0,g.jsxs)("div",{className:"vr-category-hero",children:[(0,g.jsx)("img",{src:"/images/categories/dinner-category.webp",alt:r,className:"vr-category-hero__image",onError:a=>{a.target.onerror=null,a.target.src="/images/hero-banner2.webp"}}),(0,g.jsx)("div",{className:"vr-category-hero__overlay",children:(0,g.jsx)("h1",{className:"vr-category-hero__title",children:r})})]}),(0,g.jsxs)("div",{className:"vr-category-layout",children:[(0,g.jsx)(n.default,{allRecipes:s,difficultyOptions:["easy","medium","hard"],initialTimeRange:{min:0,max:60},onFilterChange:v}),(0,g.jsxs)("main",{className:"vr-category-main",ref:C,children:[(0,g.jsxs)("div",{className:"vr-category-main__header",children:[(0,g.jsx)("h3",{className:"vr-category__title",children:"Dinner Recipes"}),(0,g.jsx)("span",{className:"vr-category-main__meta",children:f?`${d.length} out of ${f} recipes loaded`:`${d.length} recipes loaded`})]}),(0,g.jsx)("div",{className:"vr-category__grid",children:d.map((a,b)=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(k.default,{recipe:a},a.id),(b+1)%6==0&&(0,g.jsx)("article",{className:"vr-card vr-recipe-card vr-ad-card-wrapper",children:(0,g.jsx)(l.default,{id:"101",position:"in-feed",height:"100%"})})]}))}),y&&(0,g.jsx)("div",{ref:D,className:"vr-infinite-sentinel",children:w&&(0,g.jsx)("span",{children:"Loading more recipesâ€¦"})}),!y&&d.length>0&&(0,g.jsx)("div",{className:"vr-end-message",children:"You've reached the end!"}),!w&&0===d.length&&(0,g.jsxs)("div",{className:"vr-no-results",children:["No ",q," recipes found."]})]}),(0,g.jsx)(p.default,{})]})]})}a.s(["default",()=>t,"getStaticProps",()=>s],95625);var u=a.i(95625),v=a.i(9193);let w=(0,d.hoist)(u,"default"),x=(0,d.hoist)(u,"getStaticProps"),y=(0,d.hoist)(u,"getStaticPaths"),z=(0,d.hoist)(u,"getServerSideProps"),A=(0,d.hoist)(u,"config"),B=(0,d.hoist)(u,"reportWebVitals"),C=(0,d.hoist)(u,"unstable_getStaticProps"),D=(0,d.hoist)(u,"unstable_getStaticPaths"),E=(0,d.hoist)(u,"unstable_getStaticParams"),F=(0,d.hoist)(u,"unstable_getServerProps"),G=(0,d.hoist)(u,"unstable_getServerSideProps"),H=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/dinner",pathname:"/dinner",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:u}),I=(0,v.getHandler)({srcPage:"/dinner",config:A,userland:u,routeModule:H,getStaticPaths:y,getStaticProps:x,getServerSideProps:z});a.s(["config",0,A,"default",0,w,"getServerSideProps",0,z,"getStaticPaths",0,y,"getStaticProps",0,x,"handler",0,I,"reportWebVitals",0,B,"routeModule",0,H,"unstable_getServerProps",0,F,"unstable_getServerSideProps",0,G,"unstable_getStaticParams",0,E,"unstable_getStaticPaths",0,D,"unstable_getStaticProps",0,C],77088)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_pages_a0a2f2ae.js.map