module.exports=[51749,a=>{"use strict";var b=a.i(8171),c=a.i(27669),d=a.i(56195);function e({allRecipes:a=[],difficultyOptions:e=["easy","medium","hard"],initialTimeRange:f={min:0,max:60},onFilterChange:g}){let[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(f),[p,q]=(0,c.useState)(f.max),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),v=(0,c.useRef)([]),w=a=>{let b=a.ingredients;if("string"==typeof b)try{b=JSON.parse(b)}catch{b=[]}return Array.isArray(b)?b:[]},x=a=>"number"==typeof a.total_time?a.total_time:"number"==typeof a.cook_time?a.cook_time:null;(0,c.useEffect)(()=>{u(!0)},[]),(0,c.useEffect)(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),(0,c.useEffect)(()=>{if(!a.length)return;let b=1/0,c=0;a.forEach(a=>{let d=x(a);"number"==typeof d&&(d<b&&(b=d),d>c&&(c=d))}),b===1/0&&(b=0),0===c&&(c=f.max??60),o({min:b,max:c}),q(c)},[a,f.max]);let y=(0,c.useMemo)(()=>a.length?a.filter(a=>{let b=x(a);if(null!=p&&"number"==typeof b&&b>p)return!1;if(j.length>0){let b=w(a).map(a=>a.image).filter(Boolean);if(!j.every(a=>b.includes(a)))return!1}return!0}):[],[a,j,p]),z=(0,c.useMemo)(()=>{let a={easy:!1,medium:!1,hard:!1};return y.forEach(b=>{let c=b.difficulty?.toLowerCase();c&&void 0!==a[c]&&(a[c]=!0)}),a},[y]),A=(0,c.useMemo)(()=>{let a=new Map,b=y;return l&&(b=b.filter(a=>a.difficulty?.toLowerCase()===l)),b.forEach(b=>{w(b).forEach(b=>{if(!b?.image)return;let c=b.image;a.has(c)||a.set(c,{key:c,label:c.replace(/-/g," ")})})}),Array.from(a.values()).sort((a,b)=>a.label.localeCompare(b.label))},[y,l]),B=(0,c.useMemo)(()=>A.filter(a=>a.label.toLowerCase().includes(h.toLowerCase())),[A,h]);(0,c.useEffect)(()=>{g({ingredients:j,difficulty:l,maxTime:p})},[j,l,p,g]),(0,c.useEffect)(()=>{let a=v.current.map(a=>a.key),b=A.map(a=>a.key);a.filter(a=>!b.includes(a)).forEach(a=>{let b=document.querySelector(`.vr-filter-pill[data-ing="${a}"]`);b&&(b.classList.add("vr-filter-pill--fade-out"),setTimeout(()=>{b&&b.parentNode&&b.parentNode.removeChild(b)},250))}),v.current=A},[A]);let C=(0,b.jsxs)("div",{className:"vr-filter-panel",children:[(0,b.jsxs)("div",{className:"vr-filter-group",children:[(0,b.jsx)("label",{className:"vr-filter-label",children:"Search Ingredients"}),(0,b.jsx)("input",{type:"text",className:"vr-filter-search",placeholder:"Type to filter ingredients...",value:h,onChange:a=>i(a.target.value)})]}),(0,b.jsxs)("div",{className:"vr-filter-group",children:[(0,b.jsx)("label",{className:"vr-filter-label",children:"Ingredients"}),(0,b.jsx)("div",{className:"vr-filter-multiselect",children:B.map(a=>(0,b.jsx)("button",{"data-ing":a.key,className:"vr-filter-pill vr-anim-pill "+(j.includes(a.key)?"vr-filter-pill--active":"")+" vr-filter-pill--fade-in",onClick:()=>k(b=>b.includes(a.key)?b.filter(b=>b!==a.key):[...b,a.key]),children:a.label},a.key))})]}),(0,b.jsxs)("div",{className:"vr-filter-group",children:[(0,b.jsx)("label",{className:"vr-filter-label",children:"Difficulty"}),(0,b.jsx)("div",{className:"vr-filter-multiselect vr-filter-difficulty",children:e.filter(a=>z[a]).map(a=>(0,b.jsx)("button",{className:"vr-filter-pill "+(l===a?"vr-filter-pill--active":""),onClick:()=>m(l===a?null:a),children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),(0,b.jsxs)("div",{className:"vr-filter-group",children:[(0,b.jsxs)("label",{className:"vr-filter-label",children:["Max Cook Time:",(0,b.jsxs)("span",{className:"vr-filter-label__value",children:[" ",p," min"]})]}),(0,b.jsx)("input",{type:"range",className:"vr-slider",min:n.min,max:n.max,step:"5",value:p,onChange:a=>q(Number(a.target.value))}),(0,b.jsxs)("div",{className:"vr-filter-slider__scale",children:[(0,b.jsxs)("span",{children:[n.min," min"]}),(0,b.jsxs)("span",{children:[n.max," min"]})]})]}),(0,b.jsx)("div",{className:"vr-filter-actions vr-filter-actions--sticky",children:(0,b.jsx)("button",{className:"vr-meal-planner__clear",onClick:()=>{k([]),m(null),i(""),q(n.max),r&&s(!1)},children:"Clear Filter"})})]}),D=t&&r?(0,d.createPortal)((0,b.jsx)("div",{className:"vr-filter-drawer-overlay",children:(0,b.jsxs)("div",{className:"vr-filter-drawer",children:[(0,b.jsxs)("div",{className:"vr-filter-drawer__header",children:[(0,b.jsx)("h3",{children:"Filter Recipes"}),(0,b.jsx)("button",{className:"vr-filter-drawer__close",onClick:()=>s(!1),children:"×"})]}),C]})}),document.body):null;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"vr-category-mobile-filter",children:(0,b.jsx)("button",{className:"vr-category-mobile-filter__btn",onClick:()=>s(!0),children:"Filters"})}),(0,b.jsxs)("aside",{className:"vr-filter-sidebar vr-filter-sidebar--desktop",children:[(0,b.jsx)("h3",{className:"vr-filter-sidebar__title",children:"Filter"}),C]}),D]})}a.s(["default",()=>e])},58803,90664,a=>{"use strict";var b=a.i(8171),c=a.i(27669),d=a.i(1257),e=a.i(52453),f=a.i(41760);function g(a){if(null==a||""===a)return"";let b=Number(a);if(Number.isNaN(b))return"";if(.001>Math.abs(b-Math.round(b)))return String(Math.round(b));let c=Math.floor(b),d=b-c,e={n:0,d:1,error:1/0};for(let a of[2,3,4,6,8,10,12,16]){let b=Math.round(d*a),c=Math.abs(d-b/a);c<e.error-1e-4&&(e={n:b,d:a,error:c})}let f=(a,b)=>0===b?a:f(b,a%b),g=f(e.n,e.d),h=e.n/g,i=e.d/g;return h===i?String(c+1):0===h?String(c):c>0?`${c} ${h}/${i}`:`${h}/${i}`}var h=a.i(38263),i=a.i(10766);function j(a){if(!1!==a.baseUnit&&a.totalAmount>0){let b=g(a.totalAmount);return a.displayUnit?`${b} ${a.displayUnit}`:b}let b=[...new Set(a.lines.map(a=>a.text))];return b.length?b.join(", "):"As needed"}function k(){let{plannerItems:a,checkedIngredients:k,toggleIngredientCheck:l,toggleIncludeIngredients:m,removeRecipeFromPlanner:n,clearPlanner:o}=(0,f.useMealPlanner)(),[p,q]=(0,c.useState)(1),[r,s]=(0,c.useState)(!1),t=(0,c.useRef)(null);(0,c.useEffect)(()=>{function a(a){t.current&&!t.current.contains(a.target)&&s(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[t]),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{},[p]);let u=(0,c.useMemo)(()=>{let b,c;return b=new Map,c=Math.max(1,p||1),a.forEach(a=>{a.includeIngredients&&(a.ingredients||[]).forEach(d=>{if(!d||!d.ingredient)return;let e=d.ingredient.trim().toLowerCase(),f=k.includes(e);b.has(e)||b.set(e,{ingredient:d.ingredient,image:d.image||null,totalAmount:0,baseUnit:null,displayUnit:null,isChecked:f,lines:[]});let h=b.get(e);h.isChecked=f;let{value:i,fullText:j}=function(a){if(!a)return{value:0,fullText:""};let b=String(a).trim(),c=b.match(/^(\d+\s+\d+\/\d+|(?:\d+\/\d+)|\d+(?:\.\d+)?)\s*(.*)$/);if(!c)return{value:0,fullText:b};let d=c[1],e=c[2]||"",f=0;if(d.includes(" ")&&d.includes("/")){let[a,b]=d.split(" "),[c,e]=b.split("/").map(Number);f=parseFloat(a)+c/e}else if(d.includes("/")){let[a,b]=d.split("/").map(Number);f=b?a/b:0}else f=parseFloat(d);return{value:f,fullText:e}}(d.quantity||""),l=function(a){if(!a)return null;let b=a.replace(/[(),]/g,"").trim().toLowerCase().split(/\s+/);if(0===b.length)return null;let c=b[0],d=new Set(["cup","cups","c","teaspoon","teaspoons","tsp","tsps","t","tablespoon","tablespoons","tbsp","tbsps","T","ounce","ounces","oz","pound","pounds","lb","lbs","gram","grams","g","kilogram","kilograms","kg","milliliter","milliliters","ml","liter","liters","l","pint","pints","pt","quart","quarts","qt","gallon","gallons","gal","clove","cloves","pinch","pinches","dash","dashes","slice","slices","can","cans","package","packages","pkt","piece","pieces"]);return"fluid"===c&&b[1]&&(b[1].startsWith("oz")||b[1].startsWith("ounce"))?"fl oz":d.has(c)?c:null}(j),m="";if(i>0){let a=i*c,b=g(a);m=j?`${b} ${j}`:b,null===h.baseUnit&&0===h.totalAmount?(h.baseUnit=l,h.displayUnit=j,h.totalAmount=a):h.baseUnit===l?h.totalAmount+=a:h.baseUnit=!1}else m=j||"As needed",h.baseUnit=!1;h.lines.push({recipeTitle:a.title,text:m})})}),Array.from(b.values()).sort((a,b)=>a.ingredient.localeCompare(b.ingredient))},[a,p,k]),v=a.length>0,w=()=>{let b=u.filter(a=>a.isChecked),c=u.filter(a=>!a.isChecked),d=`Meal Planner Shopping List (${p} serving${1===p?"":"s"})`,e=`${d}

Link: ${window.location.href}

`;return e+=`[ITEMS TO BUY]
`,e+=c.length?c.map(a=>`[ ] ${a.ingredient}: ${j(a)}`).join("\n"):"• None - you have everything!",e+=`

[ALREADY HAVE]
`,e+=b.length?b.map(a=>`[x] ${a.ingredient}: ${j(a)}`).join("\n"):"• None yet",e+=`

[RECIPES INCLUDED]
`,a.forEach(a=>{e+=`${a.includeIngredients?"[x]":"[ ]"} ${a.title}
`}),{title:d,text:e}},x=async()=>{let{text:a}=w();try{await navigator.clipboard.writeText(a),alert("Meal plan copied to clipboard!")}catch(a){console.error("Copy failed",a)}s(!1)},y=async()=>{let{title:a,text:b}=w();try{navigator.share?await navigator.share({title:a,text:b}):x()}catch(a){console.error("Share failed",a)}s(!1)},z=a=>{q(b=>Math.max(1,(b||1)+a))};return(0,b.jsxs)("div",{className:"vr-card vr-meal-planner",children:[(0,b.jsxs)("div",{className:"vr-section-header",style:{position:"relative"},children:[(0,b.jsx)("h4",{className:"vr-section-title",children:"Meal Planner"}),v&&(0,b.jsxs)("div",{className:"vr-planner-menu-container",ref:t,children:[(0,b.jsx)("button",{type:"button",className:"vr-icon-btn vr-icon-btn--menu",onClick:()=>s(!r),children:(0,b.jsx)(e.FiMoreVertical,{})}),r&&(0,b.jsxs)("div",{className:"vr-planner-dropdown",children:[(0,b.jsxs)("button",{type:"button",onClick:x,children:[(0,b.jsx)(e.FiCopy,{})," Copy Plan"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>{s(!1),window.print()},children:[(0,b.jsx)(e.FiPrinter,{})," Print Plan"]}),(0,b.jsxs)("button",{type:"button",onClick:y,children:[(0,b.jsx)(e.FiShare2,{})," Share Plan"]})]})]})]}),!v&&(0,b.jsx)("div",{className:"vr-meal-planner__empty",children:(0,b.jsx)("p",{children:"No recipes added yet."})}),v&&(0,b.jsxs)("div",{className:"vr-print-area",children:[(0,b.jsxs)("div",{className:"vr-print-header",children:[(0,b.jsx)("h1",{children:"Shopping List"}),(0,b.jsxs)("p",{children:["Generated by ",i.BRAND_NAME," • ",new Date().toLocaleDateString()]})]}),(0,b.jsx)("div",{className:"vr-meal-planner__controls no-print",children:(0,b.jsxs)("div",{className:"vr-meal-planner__servings",children:[(0,b.jsx)("h5",{className:"vr-meal-planner__subheading",children:"Servings"}),(0,b.jsxs)("div",{className:"vr-meal-planner__servings-controls",children:[(0,b.jsx)("button",{type:"button",className:"vr-meal-planner__servings-btn",onClick:()=>z(-1),children:"−"}),(0,b.jsx)("input",{type:"number",min:1,max:99,value:p,onChange:a=>{let b=Number(a.target.value);Number.isNaN(b)||q(Math.min(99,Math.max(1,b)))},className:"vr-meal-planner__servings-input"}),(0,b.jsx)("button",{type:"button",className:"vr-meal-planner__servings-btn",onClick:()=>z(1),children:"+"})]})]})}),(0,b.jsxs)("div",{className:"vr-meal-planner__recipes",children:[(0,b.jsx)("h5",{className:"vr-meal-planner__subheading",children:"Planned recipes"}),(0,b.jsx)("ul",{children:a.map(a=>(0,b.jsx)("li",{className:"vr-meal-planner__recipe",children:(0,b.jsx)("div",{className:"vr-meal-planner__recipe-main",children:(0,b.jsxs)("div",{className:"vr-meal-planner__recipe-info",children:[(0,b.jsx)("label",{className:"vr-meal-planner__include",children:(0,b.jsx)("input",{type:"checkbox",checked:a.includeIngredients,onChange:()=>m(a.id)})}),(0,b.jsx)(d.default,{href:`/recipes/${a.slug||a.id}`,children:(0,b.jsx)("span",{className:"vr-meal-planner__recipe-title","data-print-check":a.includeIngredients?"[x]":"[ ]",children:a.title})}),(0,b.jsx)("button",{className:"vr-meal-planner__remove no-print",onClick:()=>n(a.id),children:"×"})]})})},a.id))})]}),(0,b.jsxs)("div",{className:"vr-meal-planner__ingredients",children:[(0,b.jsx)("h5",{className:"vr-meal-planner__subheading",children:"Combined ingredients"}),u.length>0?(0,b.jsx)("div",{className:"vr-meal-planner__ingredient-list",children:u.map(a=>(0,b.jsxs)("div",{className:"vr-meal-planner__ingredient-item",style:{position:"relative"},children:[(0,b.jsx)("div",{className:`vr-ingredient-check ${a.isChecked?"checked":""}`,onClick:()=>l(a.ingredient),children:"✓"}),(0,b.jsx)("div",{className:"vr-meal-planner__ingredient-media no-print",children:(0,b.jsx)(h.default,{src:a.image?`/images/ingredients/${a.image}.webp`:"/images/ingredients/placeholder.webp",alt:a.ingredient,width:46,height:46})}),(0,b.jsxs)("div",{className:"vr-meal-planner__ingredient-body",children:[(0,b.jsxs)("div",{className:"vr-meal-planner__ingredient-top",children:[(0,b.jsx)("span",{className:"vr-meal-planner__ingredient-name",children:a.ingredient}),(0,b.jsx)("span",{className:"vr-meal-planner__ingredient-total",children:j(a)})]}),(0,b.jsx)("div",{className:"vr-meal-planner__ingredient-notes",children:a.lines.length>1&&(0,b.jsxs)("span",{children:["From:"," ",a.lines.map(a=>a.recipeTitle).join(", ")]})})]})]},a.ingredient))}):(0,b.jsx)("div",{className:"vr-meal-planner__empty",children:(0,b.jsx)("p",{children:"No ingredients selected."})})]}),(0,b.jsx)("div",{className:"vr-meal-planner__footer no-print",children:(0,b.jsxs)("button",{type:"button",className:"vr-meal-planner__clear",onClick:o,children:[(0,b.jsx)(e.FiTrash2,{})," ",(0,b.jsx)("span",{children:"Clear planner"})]})})]})]})}a.s(["default",()=>k],90664);var l=a.i(20351);a.s(["default",0,()=>(0,b.jsxs)("aside",{className:"vr-sidebar",children:[(0,b.jsx)(k,{}),(0,b.jsx)(l.default,{id:"101",position:"sidebar",placement:"sticky",height:"auto"})]})],58803)},98749,a=>{"use strict";var b=a.i(8171),c=a.i(1257),d=a.i(41910);function e({recipe:a}){let e=(0,d.useRouter)().asPath.split("?")[0].split("/").filter(Boolean),f=e.map((a,b)=>({segment:a,href:"/"+e.slice(0,b+1).join("/"),label:a.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase())}));return a?.title&&f.length>0&&(f[f.length-1].label=a.title),(0,b.jsx)("nav",{className:"vr-breadcrumb",children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/",children:"Home"})}),f.map((a,d)=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:" / "}),(0,b.jsx)("li",{children:d===f.length-1?(0,b.jsx)("span",{className:"active",children:a.label}):(0,b.jsx)(c.default,{href:a.href,children:a.label})},d)]}))]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=components_0896a42c._.js.map